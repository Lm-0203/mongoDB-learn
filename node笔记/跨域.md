页面地址：http://www.leige.tech

请求的资源地址：http://www.xiaolei.com

同源策略：协议，域名（主机名），端口号 完全相同

浏览器不允许使用非同源的数据

# 跨域之JSONP

+ 浏览器端生成一个script元素，访问数据接口

  ```html
  <script>
      function jsonp(url) {
          const script = ducument.createElement('script');
          script.src = url;
          document.body.appendChild(script);
          // script 加载完成后，也就是请求完响应的数据后，再把它删掉
          script.onload = function() {
              script.remove();
          }
      }
  	function callback(data) {
          console.log(data);
      }
      
      jsonp('http://localhost:5008/api/student');
  </script>
  ```

  

+ 服务器响应一段JS代码，调用某个函数，并把响应的数据传入

  ```js
  app.get('/api/student', (req, res) => {
      const result = getStudent();
      const json = JSON.stringify(reslut); // 把返回值转成字符串
      const script = `callback(json)`;
      res.header("content-type", "application/javascript").send(script);
  })
  ```

  

# 跨域之CORS

